---

- hosts: all
  become_method: runas
  
  vars:  
  
    servers:
       server1: sdcgisazapmdw04
       server2: sdcgisazapmdw02
       port: 90

  tasks:
    #- name: Obtain information about a file
    #  win_stat:
    #    path: C:\Windows\system32\powercat.ps1
    #  register: file_info
      
    #- name: Copy a single file
    #  win_copy:
    #    src: powercat.ps1
    #    dest: C:\Windows\system32\powercat.ps1
    #  when: file_info|succeeded
    
    - name: run two shell
      command: echo '{{ item.port }}'
#ansible-playbook -i wins test4.yml --extra-vars 'host2={{ item.server2 }} fort={{ item.port }}'
#; ansible-playbook -i wins test41.yml --extra-vars "host1={{ item.server1 }} host2={{ item.server2 }} fort={{ item.port }}"
      #args:
      #  executable: /bin/bash
      delegate_to: localhost
      with_items: "{{ servers }}"
